{
	"info": {
		"_postman_id": "d65864af-8212-4c98-8b0f-863244b65f92",
		"name": "IPM Decisions DSS API tests",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "MetaDataService",
			"item": [
				{
					"name": "Get field observation schema",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"The response is a Json Schema\",function(){",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[\"$schema\"]).to.eql(\"http://json-schema.org/draft-04/schema#\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/schema/fieldobservation",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"schema",
								"fieldobservation"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get DSS schema",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"The response is a Json Schema\",function(){",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[\"$schema\"]).to.eql(\"http://json-schema.org/draft-04/schema\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/schema/dss",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"schema",
								"dss"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get model output schema",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"The response is a Json Schema\",function(){",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[\"$schema\"]).to.eql(\"http://json-schema.org/draft-04/schema#\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/schema/modeloutput",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"schema",
								"modeloutput"
							]
						}
					},
					"response": []
				},
				{
					"name": "Schema validate model output",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"The data has been validated\",function(){",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[\"isValid\"]).to.eql(true);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"timeStart\": \"2020-04-30T22:00:00Z\",\n    \"timeEnd\": \"2020-05-02T22:00:00Z\",\n    \"interval\": 86400,\n    \"resultParameters\": [\n        \"TMDD5C\",\n        \"THRESHOLD_1\",\n        \"THRESHOLD_2\",\n        \"TMD5C\",\n        \"TMD\",\n        \"THRESHOLD_3\"\n    ],\n    \"locationResult\": [\n        {\n            \"longitude\": null,\n            \"latitude\": null,\n            \"altitude\": null,\n            \"data\": [\n                [\n                    0.7,\n                    260.0,\n                    360.0,\n                    0.7,\n                    5.7,\n                    560.0\n                ],\n                [\n                    3.9,\n                    260.0,\n                    360.0,\n                    3.2,\n                    8.2,\n                    560.0\n                ],\n                [\n                    7.4,\n                    260.0,\n                    360.0,\n                    3.5,\n                    8.5,\n                    560.0\n                ]\n            ],\n            \"warningStatus\": [\n                2,\n                2,\n                4\n            ],\n            \"length\": 3,\n            \"width\": 6\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{dss_url}}/rest/schema/modeloutput/validate",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"schema",
								"modeloutput",
								"validate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Schema validate DSS YAML file",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"The data has been validated\",function(){",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[\"isValid\"]).to.eql(true);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"content-type": true
						}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-type",
								"value": "application/x-yaml",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "#General info about the DSS\nid: adas.dss\nversion: 0.0.3\nname: Models\nurl: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss\norganization:\n  name: ADAS\n  country: England\n  address: Titan 1 Offices\n  postal_code: WV10 9RT\n  city: Wolverhampton\n  email: Hannah.Griffiths@adas.co.uk\n  url: https://www.adas.uk/\nlanguages:\n- English\nmodels:\n- name: Cutworm Model\n  id: DASGPA\n  version: 0.0.3\n  authors:\n  - name: J. Bowden, J. Cochrane, B.J. Emmett, T.E. Minall, P.L Sherlock\n    email: NA\n    organization: Rothamsted Experimental Station\n  pests:\n  - DASGPA\n  crops:\n  - 3LETC\n  - 3BEEC\n  - SOLTU\n  - BEAVV\n  - BRSRR\n  - BRSNA\n  - DAUCS\n  - PAVSA\n  - ALLCE\n  - ALLPO\n  - CICIN\n  - 1ASPG\n  - APUGV\n  - LYPES\n  - FRAAN\n  #lettuce crops, beet crops, potato, mangold, turnip, swede, carrot, parsnip, onion, leek, chicory, asparagus, celery, tomato, strawberry\n  keywords: none\n  type_of_decision: Short-term tactical\n  type_of_output: Risk indication\n  description_URL: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/dasgpa/Help/Api/POST-api-DASGPA\n  description:\n    other: |\n      This model assesses Cutworm risk in crops based on the work of Bowden et al., (1982). The model was originally devised to estimate an index of larval survival to third instar, based on temperature rate of development relationships and mortality due to daily rainfall.\n      The default model start date is defined as the first day after 1st June where temperature exceeds 12 degrees. The model will end on the 31st October.\n      Any spray dates can be inputted into the model and are deemed to be 100% effective at removing cutworm from the model.\n      The model will return the number of batches that survive to the third instar, the associated risk and the recommended action.\n    created_by: ''\n    age: ''\n    assumptions: ''\n    peer_review: ''\n  citation:\n  valid_spatial:\n    countries:\n    - GBR\n    geoJSON: |-\n      {}\n  input:\n    weather_parameters:\n    - parameter_code: 1002\n      interval: 86400\n    - parameter_code: 2001\n      interval: 86400\n    weather_data_period_start:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-06-01'\n    weather_data_period_end:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-10-31'\n  execution:\n    type: ONTHEFLY\n    endpoint: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/dasgpa/api/DASGPA\n    form_method: post\n    content_type: application/json\n    input_schema: |\n      {\n        \"type\":\"object\",\n        \"properties\": { \n            \"modelId\": {\"type\": \"string\", \"pattern\":\"^DASGPA$\", \"title\": \"Model Id\", \"default\":\"DASGPA\", \"description\":\"Must be DASGPA\"},\n            \"weatherData\": {\n              \"$ref\": \"https://ipmdecisions.nibio.no/api/wx/rest/schema/weatherdata\"\n            },        \n            \"optionalData\" :{  \n              \"title\":\"Optional parameters for the DSS\",            \n              \"type\": \"object\",\n              \"properties\": {\n                \"sprayDates\": {\n                  \"title\": \"Spray Dates\",\t\n                  \"type\": \"object\",\n                  \"properties\":{\n                    \"date\": {\"type\":\"string\",\"format\": \"date\", \"title\": \"Date of Spray (YYYY-MM-DD)\"}\n                    }\n                }\n              }\n            }\n        },\n        \"required\": [\"modelId\",\"weatherData\"]\n      }\n\n    input_schema_categories:\n      hidden:\n      - modelId\n  output:\n    warning_status_interpretation:\n    - explanation: |-\n      recommended_action: ''\n    - explanation: |- \n        Missing data.\n      recommended_action: Review error message.\n    - explanation: |-\n        Green warning indicates that the number of larval batches surviving to third instar is zero.\n      recommended_action: No Action Required.\n    - explanation: |-\n        Yellow warning indicates that the larval batches surviving to third instar is between 1 and 4. \n      recommended_action: Should check field to obtain first-hand information about the need to take action. \n    - explanation: |-\n        Red warning indicates that there are over 4 larval batches surviving to third instar. \n      recommended_action: Advised to walk around your field as soon as possible to enable you to make a decision on which action to take.  \n    chart_heading: Larval Batches Surviving to Third Instar.\n    chart_groups:\n    - id: G1\n      title: Instar Count\n      result_parameter_ids:\n      - Third_Instar_Count\n    result_parameters:\n    - id: Third_Instar_Count\n      title: Larval Batches Surviving to Third Instar.\n      description: Number of larval batches surviving to third instar.\n      chart_info:\n        default_visible: true\n        unit: count\n        chart_type: column\n        color: green\n##########\n- name: Orange Wheat Blossom Midge Model\n  id: SITDMO\n  version: 0.0.3\n  authors:\n  - name: Guillaume Jacquemin, Sandrine Chavalle, Michel D Proft\n    email: g.jacquemin@cra.wallonie.be, s.chavalle@cra.wallonie.be, m.deproft@cra.wallonie.be\n    organization: Walloon Agricultural Research Centre\n  pests:\n  - SITDMO\n  crops:\n  - TRZAX\n  keywords: none\n  type_of_decision: Short-term tactical\n  type_of_output: Risk indication\n  description_URL: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/sitdmo/Help/Api/POST-api-SITDMO\n  description:\n    other: |\n      This is a simple Phase Indication DSS based on the work of Jacquemin et al., (2013).   \n      It uses daily temperature (degrees celsius) and rainfall (mm) data to identify emergence in the Orange Wheat Blossom Midge. \n      Optional parameters can be inputted to set the thresholds at each of the phases of the Orange Wheat Blossom Midge Lifecycle. If not inputted, the defaults will be set.\n      The model only runs between the months May and June but requires weather data from the 1st of January.\n      The model will return, what Phase the insect is in. If the insect has emerged it will also provide the dates of the emergence. It will also provide a risk and the recommended action.\n    created_by: ''\n    age: ''\n    assumptions: ''\n    peer_review: ''\n  citation:\n  valid_spatial:\n    countries:\n    - GBR\n    - BEL\n    geoJSON: |-\n      {}\n  input:\n    weather_parameters:\n    - parameter_code: 1002\n      interval: 86400\n    - parameter_code: 2001\n      interval: 86400\n    weather_data_period_start:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-01-01'\n    weather_data_period_end:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-06-30'\n  execution:\n    type: ONTHEFLY\n    endpoint: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/sitdmo/api/SITDMO\n    form_method: post\n    content_type: application/json\n    input_schema: |\n      {\n        \"type\":\"object\",\n        \"properties\": {  \n          \"modelId\": {\"type\": \"string\", \"pattern\":\"^SITDMO$\", \"title\": \"Model Id\", \"default\":\"SITDMO\", \"description\":\"Must be SITDMO\"},\n          \"weatherData\": {\n            \"$ref\": \"https://ipmdecisions.nibio.no/api/wx/rest/schema/weatherdata\"\n          },\t\t\n          \"optionalData\" :{\n            \"title\":\"Optional parameters for the DSS\",\n            \"type\": \"object\",\n            \"properties\": {\n              \"Temperature Threshold Phase 1\": {\"type\": \"number\", \"default\":\"3\"},\n              \"Degree Day Threshold Phase 1\": {\"type\": \"number\", \"default\":\"250\"},\n              \"Temperature Threshold Phase 2\": {\"type\": \"number\", \"default\":\"13\"},\n              \"Rainfall Threshold Phase 2\": {\"type\": \"number\", \"default\":\"0\"},\n              \"Temperature Threshold Phase 3\": {\"type\": \"number\", \"default\":\"7\"},\n              \"Degree Day Threshold Phase 3\": {\"type\": \"number\", \"default\":\"160\"}\n            }\n          }  \n        },\n        \"required\": [\"modelId\",\"weatherData\"]\n      }\n    input_schema_categories:\n      hidden:\n      - modelId\n  output:\n    warning_status_interpretation:\n    - explanation: |-\n      recommended_action: ''\n    - explanation: |- \n        Missing data.\n      recommended_action: Review error message.\n    - explanation: |-\n        Green warning indicates that Orange Wheat Blossom Midge is in Phase 1 of development. There is currently a low risk.\n      recommended_action: Revisit regularly as risk can change rapidly.\n    - explanation: |-\n        Yellow warning indicates that Orange Wheat Blossom Midge is in Phase 2 of development. \n      recommended_action: Should check field to obtain first-hand information about the need to act.\n    - explanation: |-\n        Red warning indicates that Orange Wheat Blossom Midge is in Phase 3 of development or have emerged.\n      recommended_action: Advised to walk around your field as soon as possible to enable you to decide on which action to take.\n    chart_heading: ''\n    chart_groups:\n    - id: ''\n      title: ''\n      result_parameter_ids:\n      - ''\n    result_parameters:\n    - id: ''\n      title: ''\n      description: ''\n      chart_info:\n        default_visible: false\n        unit: ''\n        chart_type: scatter\n        color: ''\n##########\n- name: Pollen Beetle Model\n  id: MELIAE\n  version: 0.0.3\n  authors:\n  - name: Hannah Griffiths\n    email: Hannah.Griffiths@adas.co.uk\n    organization: ADAS\n  pests:\n  - MELIAE\n  crops:\n  - BRSNN # EPPO code for rapeseed\n  keywords: none\n  type_of_decision: Short-term tactical\n  type_of_output: Risk indication\n  description_URL: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/meliae/Help/Api/POST-api-MELIAE\n  description:\n    other: |\n      This model is based on the work of Ferguson et al., (2015) to predict migration risk Pollen Beetle.\n      Daily maximum air temperature is used to predict Migration Risk. The default value of 15 degrees celsius is used, as that is the temperature advised in the UK at which pollen beetles will fly. \n      Threshold however can also be overwritten by the user.\n      The model can only be used between growth stage 51 and 59.\n    created_by: ''\n    age: ''\n    assumptions: ''\n    peer_review: ''\n  citation:\n  valid_spatial:\n    countries: []\n    geoJSON: |-\n      {}\n  input:\n    weather_parameters:\n    - parameter_code: 1004\n      interval: 86400\n    weather_data_period_start:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-03-01'\n    weather_data_period_end:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-05-31'\n  execution:\n    type: ONTHEFLY\n    endpoint: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/meliae/api/MELIAE\n    form_method: post\n    content_type: application/json\n    input_schema: |\n      {\n        \"type\":\"object\",\n        \"properties\": {  \n         \"modelId\": {\"type\": \"string\", \"pattern\":\"^MELIAE$\", \"title\": \"Model Id\", \"default\":\"MELIAE\", \"description\":\"Must be MELIAE\"},\t\n          \"weatherData\": {\n            \"$ref\": \"https://ipmdecisions.nibio.no/api/wx/rest/schema/weatherdata\"\n          },\n          \"growthStage\": {\"type\": \"number\"},\n          \"optionalData\" :{   \n            \"title\":\"Optional parameters for the DSS\", \n            \"type\": \"object\",\n            \"properties\": {\n              \"Temperature Threshold\": {\"type\": \"number\", \"default\":\"15\"}\n            }\n          }\n        },\n        \"required\": [\"modelId\", \"weatherData\", \"growthStage\"]\n      }  \n    input_schema_categories:\n      hidden:\n      - modelId\n  output:\n    warning_status_interpretation:\n    - explanation: ''\n      recommended_action: ''\n    - explanation: |-\n        Missing data.\n      recommended_action: Review error message.\n    - explanation: |-\n        Green Warning indicates that the maximum temperature is lower than threshold at which pollen beetles fly at air temperatures to crops. \n      recommended_action: Revisit regularly as risk can change rapidly.\n    - explanation: ''\n      recommended_action: ''\n    - explanation: |-\n        Red Warning indicates that the maximum temperature is higher than threshold at which pollen beetles fly at air temperatures to crops.\n      recommended_action: Walk around your field to enable you to decide on which action to take.\n    chart_heading: ''\n    chart_groups:\n    - id: ''\n      title: ''\n      result_parameter_ids:\n      - ''\n    result_parameters:\n    - id: ''\n      title: ''\n      description: ''\n      chart_info:\n        default_visible: false\n        unit: ''\n        chart_type: scatter\n        color: ''\n##########        \n- name: Saddle Gall Midge Model\n  id: HAPDMA\n  version: 0.0.3\n  authors:\n  - name: Charlotte Rowley, Andew Cherrill, Simon R. Leather, Tome W. Pope\n    email: crowley@harper-adams.ac.uk\n    organization: Centre for Integrated Pest Management\n  pests:\n  - HAPDMA\n  crops:\n  - TRZAS\n  - HORVS\n  #EPPO for spring wheat and spring barley\n  keywords: none\n  type_of_decision: Short-term tactical\n  type_of_output: Risk indication\n  description_URL: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/hapdma/Help/Api/POST-api-HAPDMA\n  description:\n    other: |\n      A simple DSS which predicts the dates of emergence for the Saddle Gall Midge based on a model derived by Rowley et al., 2017. Rainfall events followed by an accumulation of 512 degree days above 0 degrees C can be used to predict peaks.\n      Cumulative emergence as a function of degree day accumulations was best described using a probit model.\n      The model will start on the date of first rainfall on or after the 1st March and will end at the end of July.\n      A Rainfall event is described as daily rainfall over the rainfall threshold (default 1mm) following 3 days without precipitation.\n      Optional parameters can be inputted to set the thresholds. If not inputted, the defaults described above will be set.\n      The model will return the dates of peak emergence, cumulative emergence, the associated risk and recommended action.\n    created_by: ''\n    age: ''\n    assumptions: ''\n    peer_review: ''\n  citation:\n  valid_spatial:\n    countries:\n    - GBR\n    geoJSON: |-\n      {}\n  input:\n    weather_parameters:\n    - parameter_code: 1002\n      interval: 3600\n    - parameter_code: 2001\n      interval: 3600\n    weather_data_period_start:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-03-01'\n    weather_data_period_end:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-07-31'\n  execution:\n    type: ONTHEFLY\n    endpoint: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/hapdma/api/HAPDMA\n    form_method: post #\n    content_type: application/json\n    input_schema: |\n      {\n          \"type\":\"object\",\n          \"properties\": {  \n            \"modelId\": {\"type\": \"string\", \"pattern\":\"^HAPDMA$\", \"title\": \"Model Id\", \"default\":\"HAPDMA\", \"description\":\"Must be HAPDMA\"},\t\n            \"weatherData\": {\n              \"$ref\": \"https://ipmdecisions.nibio.no/api/wx/rest/schema/weatherdata\"\n            },\n            \"optionalData\" :{\n              \"title\":\"Optional parameters for the DSS\",\n              \"type\": \"object\",\n              \"properties\": {\n                \"Rainfall Threshold\": {\"type\": \"number\", \"default\":\"1\"},\n                \"Dry Day Threshold\": {\"type\": \"number\", \"default\":\"3\"},\n                \"Temperature Threshold\": {\"type\": \"number\", \"default\":\"0\"},\n                \"Degree Days\": {\"type\": \"number\", \"default\":\"512\"}\n              }\n            }\n          },\n          \"required\": [\"modelId\",\"weatherData\"]\n      }\n    input_schema_categories:\n      hidden:\n      - modelId\n  output:\n    warning_status_interpretation:\n    - explanation: ''\n      recommended_action: ''\n    - explanation: |-\n        Missing data.\n      recommended_action: Review error message.\n    - explanation: |-\n        Green warning indicates that there is below 10% cumulative emergence. Currently low risk.\n      recommended_action: Revisit regularly as risk can change rapidly.\n    - explanation: |-\n        Yellow warning indicates that there is up to 50% cumulative emergence.\n      recommended_action: Check field to obtain first hand information about the need to take action.\n    - explanation: |-\n        Red warning indicates that there is up to or over 90% cumulative emergence.\n      recommended_action: Walk around your field as soon as possible to enable you to decide on which action to take.\n    chart_heading: Cumulative Emergence\n    chart_groups:\n    - id: G1\n      title: Emergence\n      result_parameter_ids:\n      - Cumulative_Emergence\n    result_parameters:\n    - id: Cumulative_Emergence\n      title: Cumulative Emergence.\n      description: Cumulative percentage emergence as a function of degree day accumulations.\n      chart_info:\n        default_visible: true\n        unit: count\n        chart_type: line\n        color: green\n##########\n- name: Codling Moth Model\n  id: CARPPO\n  version: 0.0.3\n  authors:\n  - name: Petros T. Damos, Nikos A. Kouloussis, Dimitris S. Koveos\n    email: petrosdamos@gmail.com\n    organization: Laboratory of Applied Zoology and Parasitology, School of Agriculture,\n      Faculty of Agriculture, Forestry and Natural Environment, Thessaloniki, Greece\n  pests:\n  - CARPPO\n  crops:\n  - MABSD ##EPPO for apple plant\n  keywords: none\n  type_of_decision: Short-term tactical\n  type_of_output: Risk indication\n  description_URL: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/carppo/Help/Api/POST-api-CARPPO\n  description:\n    other: |\n      This is a simple risk based DSS for the Codling Moth, Cydia pomonella, based on the work of Damos et al., (2018) in Greece. A 3-paramater non-linear regression model was constructed to fit cumulative moth captures as a function of accumulated day degrees (Biofix 1st January) for all three of the male flights.\n      The model requires minimum and maximum temperature from the 1st of January as an input, and will return the male flight, associated risk and recommended action.\n    created_by: ''\n    age: ''\n    assumptions: ''\n    peer_review: ''\n  citation:\n  valid_spatial:\n    countries:\n    - ALB, AND, BIH, HRV, GRC, ITA, MLT, MNE, MKD, PRT, SMR, SRB, SVN, ESP\n    geoJSON: |-\n      {}\n  input:\n    weather_parameters:\n    - parameter_code: 1003 # = Min air temp at 2m\n      interval: 86400\n    - parameter_code: 1004 # = Max air temp at 2m\n      interval: 86400\n    weather_data_period_start:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-01-01'\n    weather_data_period_end:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-09-30'\n  execution:\n    type: ONTHEFLY\n    endpoint: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/carppo/api/carppo\n    form_method: post\n    content_type: application/json\n    input_schema: |\n      {\n        \"type\":\"object\",\n        \"properties\": {  \n          \"modelId\": {\"type\": \"string\", \"pattern\":\"^CARPPO$\", \"title\": \"Model Id\", \"default\":\"CARPPO\", \"description\":\"Must be CARPPO\"},\t\t\n          \"weatherData\": {\n            \"$ref\": \"https://ipmdecisions.nibio.no/api/wx/rest/schema/weatherdata\"\n          },\t\n          \"optionalData\" :{\n            \"title\":\"Optional parameters for the DSS\",\n            \"type\": \"object\",\n            \"properties\": {\t\t  \n              \"Lower Temperature Threshold\": {\"type\": \"number\", \"default\":\"10.1\"},\t\n              \"Upper Temperature Threshold\": {\"type\": \"number\", \"default\": \"34.3\"},\n              \"First Flight: Parameter a\": {\"type\": \"number\", \"default\": \"98.7583\"},\n              \"First Flight: Parameter b\": {\"type\": \"number\", \"default\": \"69.5118\"},        \n              \"First Flight: Parameter y\": {\"type\": \"number\", \"default\": \"468.8300\"},         \n              \"Second Flight: Parameter a\": {\"type\": \"number\", \"default\": \"98.7505\"},\n              \"Second Flight: Parameter b\": {\"type\": \"number\", \"default\": \"99.9595\"},\n              \"Second Flight: Parameter y\": {\"type\": \"number\", \"default\": \"1130.9937\"},\n              \"Third Flight: Parameter a\": {\"type\": \"number\", \"default\": \"106.1449\"},\n              \"Third Flight: Parameter b\": {\"type\": \"number\", \"default\": \"110.2595\"},        \n              \"Third Flight: Parameter y\": {\"type\": \"number\", \"default\": \"1815.8485\"} \n            }\n          }            \n        },\n        \"required\": [\"modelId\", \"weatherData\"]\n      }  \n    input_schema_categories:\n      hidden:\n      - modelId\n  output:\n    warning_status_interpretation:\n    - explanation: |-\n      recommended_action: ''\n    - explanation: |- \n        Missing data.\n      recommended_action: Review error message.\n    - explanation: |-\n        This decision tool predicts the timing of flights of Cydia pomella (colding moth) to help time insecticide treatment.    \n        Typically it is more effective to treat early in the flight, rather than waiting for the peak of the flight (maximum risk).   \n        The timing of treatment might need to be adjusted depending on the type of insecticide used. \n        In southern Europe there can be three flights in a season.     \n        The prediction is about timing and does not predict the number of codling moths.\n        Green warning indicates that cumulative catches are below 10% or above 65% in all the flights.\n      recommended_action: The risk is low, and no action is required but it is recommended to revisit regularly as risk can change rapidly.\n    - explanation: |-\n        This decision tool predicts the timing of flights of Cydia pomella (colding moth) to help time insecticide treatment.    \n        Typically it is more effective to treat early in the flight, rather than waiting for the peak of the flight (maximum risk).   \n        The timing of treatment might need to be adjusted depending on the type of insecticide used. \n        In southern Europe there can be three flights in a season.     \n        The prediction is about timing and does not predict the number of codling moths.\n        Yellow warning indicates that cumulative catches are between 10% and 35% in at least one of the flights. \n      recommended_action: The risk is moderate, and you should walk around your field as soon as possible to enable you to make a decision on which action to take.\n    - explanation: |-\n        This decision tool predicts the timing of flights of Cydia pomella (colding moth) to help time insecticide treatment.    \n        Typically it is more effective to treat early in the flight, rather than waiting for the peak of the flight (maximum risk).   \n        The timing of treatment might need to be adjusted depending on the type of insecticide used. \n        In southern Europe there can be three flights in a season.     \n        The prediction is about timing and does not predict the number of codling moths.\n        Red warning indicates that cumulative catches are between 35% and 65% in at least one of the flights. \n      recommended_action: The risk is high and you should immediately take a decision for action to manage the pest.\n    chart_heading: Cumulative Captures\n    chart_groups:\n    - id: G1\n      title: Cumulative Captures\n      result_parameter_ids:\n      - First_Flight_Cumulative_Captures\n      - Second_Flight_Cumulative_Captures\n      - Third_Flight_Cumulative_Captures\n    result_parameters:\n    - id: First_Flight_Cumulative_Captures\n      title: First Flight Cumulative Captures\n      description: The cumulative captures of the Codling Moth during their first\n        flight.\n      chart_info:\n        default_visible: true\n        unit: Count\n        chart_type: line\n        color: green\n    - id: Second_Flight_Cumulative_Captures\n      title: Second Flight Cumulative Captures\n      description: The cumulative captures of the Codling Moth during their second\n        flight.\n      chart_info:\n        default_visible: true\n        unit: Count\n        chart_type: line\n        color: red\n    - id: Third_Flight_Cumulative_Captures\n      title: Third Flight Cumulative Captures\n      description: The cumulative captures of the Codling Moth during their third\n        flight.\n      chart_info:\n        default_visible: true\n        unit: Count\n        chart_type: line\n        color: blue\n###########\n- name: TSUM Model\n  id: RHOPPA\n  version: 0.0.1\n  authors:\n  - name: AHDB\n    email: NA\n    organization: AHDB\n  pests:\n  - RHOPPA\n  crops:\n  - TRZAW\n  - HORVW #EPPO for winter wheat and winter barley\n  keywords: none\n  type_of_decision: Short-term tactical\n  type_of_output: Risk indication\n  description_URL: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/rhoppa/Help/Api/POST-api-RHOPPA\n  description:\n    other: |\n      This is a simple risk DSS for predicting BYDV risk from aphids. Second generation aphids move away from the plant originally colonised and are therefore likely to be a greater risk. \n    created_by: ''\n    age: ''\n    assumptions: Second generation aphids are likely to be present when the accumulated daily air temperatures, above a baseline temperature of 3 degrees, reached T-Sum 170.\n    peer_review: ''\n  citation:\n  valid_spatial:\n    countries:\n    - GBR\n    geoJSON: |-\n      {}\n  input:\n    weather_parameters:\n    - parameter_code: 1002\n      interval: 3600\n    weather_data_period_start:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-09-01'\n    weather_data_period_end:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-08-31'\n  execution:\n    type: ONTHEFLY\n    endpoint: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/rhoppa/api/RHOPPA\n    form_method: post\n    content_type: application/json\n    input_schema: |\n      {\n          \"type\":\"object\",\n          \"properties\": {  \n            \"modelId\": {\"type\": \"string\", \"pattern\":\"^RHOPPA$\", \"title\": \"Model Id\", \"default\":\"RHOPPA\", \"description\":\"Must be RHOPPA\"},\n            \"weatherData\": {\n              \"$ref\": \"https://ipmdecisions.nibio.no/api/wx/rest/schema/weatherdata\"\n            },       \n            \"optionalData\" :{ \n              \"title\":\"Optional parameters for the DSS\",\n              \"type\": \"object\",\n              \"properties\": {\n                \"sprayDates\": {\n                  \"title\": \"Spray Dates\",\n                  \"type\": \"object\",\n                  \"properties\":{\n                    \"Date\": {\"type\":\"string\",\"format\": \"date\", \"title\": \"Date of Spray (YYYY-MM-DD)\"}\n                  }\n               }           \n              }\n            }\n          },\n          \"required\": [\"modelId\",\"weatherData\"]\n        }  \n    input_schema_categories:\n      hidden:\n      - modelId\n  output:\n    warning_status_interpretation:\n    - explanation: |-\n      recommended_action: ''\n    - explanation: |- \n        Missing data.\n      recommended_action: Review error message.\n    - explanation: |-\n        Green risk status: T-SUM is below 50. Low risk of spread of BYDV in crops at this time. \n      recommended_action: Review risk status every 7 days during vulnerable crop growth stages regularly as risk conditions can change rapidly.\n    - explanation: |-\n        Yellow risk status: T-SUM is between 50 and 100. \n      recommended_action: Review risk status within next 3 days. Field inspections recommended within the next 3-5 days to assess aphid infestations and consider treatment where winged aphids are easily found.\n    - explanation: |-\n        Red risk status: T-SUM is 100 and over.\n      recommended_action: Review risk status daily. Field inspections recommended within the next 1-3 days to assess aphid infestations and consider treatment where winged aphids are easily found.\n    chart_heading: TSUM Model\n    chart_groups:\n    - id: G1\n      title: TSUM\n      result_parameter_ids:\n      - T-Sum\n      - Proportion_1\n      - Proportion_2\n      - Proportion_3\n    result_parameters:\n      # the id is used with the model_id as the namespace\n    - id: T-Sum\n      title: T-Sum\n      description: Cumulative day degrees over 3 degrees celsius.\n      chart_info:\n        default_visible: true\n        unit: Count\n        chart_type: line\n        color: orange\n    - id: Proportion_1\n      title: Proportion of day where temperature exceeds 11 degrees C\n      description: Proportion of day where temperature exceeds 11 degrees C\n      chart_info:\n        default_visible: true\n        unit: Count\n        chart_type: line\n        color: green\n    - id: Proportion_2\n      title: Proportion of day where temperature was below 6 degrees C\n      description: Proportion of day where temperature was below 6 degrees C\n      chart_info:\n        default_visible: true\n        unit: Count\n        chart_type: line\n        color: red\n    - id: Proportion_3\n      title: Proportion of day where temperature was below 3 degrees C\n      description: Proportion of day where temperature was below 3 degrees C\n      chart_info:\n        default_visible: true\n        unit: Count\n        chart_type: line\n        color: blue\n##########",
							"options": {
								"raw": {
									"language": "text"
								}
							}
						},
						"url": {
							"raw": "{{dss_url}}/rest/schema/dss/yaml/validate",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"schema",
								"dss",
								"yaml",
								"validate"
							]
						}
					},
					"response": []
				},
				{
					"name": "Schema INvalidate INvalid DSS YAML file",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"The data has been validated\",function(){",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[\"isValid\"]).to.eql(false);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"content-type": true
						}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-type",
								"type": "text",
								"value": "application/x-yaml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "# General info about the DSS\nid: no.nibio.vips\nversion: '2.0'\nname: VIPS\nurl: https://www.vips-landbruk.no/\norganization:\n  name: NIBIO\n  country: Norway\n  address: Postboks 115\n  postal_code: '1431'\n  city: Ås\n  email: berit.nordskog@nibio.no\n  url: https://www.nibio.no/\nlanguages:\n- Norwegian\n- English\n# From here on we get model specific\n# There may be many DSS models per DSS\n# They should have their separate list entry\n# We use EPPO codes (https://gd.eppo.int/)\n# for pests and crops\n# We use these parameters/codes for weather data: \n# https://github.com/H2020-IPM-Decisions/formats/blob/master/weather_data/weather_parameters_draft_v2.yaml\nmodels:\n- name: Carrot rust fly temperature model\n  id: PSILARTEMP\n  version: '1.0'\n  authors: # List of the model authors\n  - name: Berit Nordskog\n    email: berit.nordskog@nibio.no\n    organization: NIBIO\n  pests:\n  - PSILOR # EPPO code for carrot rust fly\n  crops:\n  - DAUCS # EPPO code for carrot\n  keywords: none\n  type_of_decision: Short-term tactical\n  type_of_output: Risk indication\n  description_URL: https://www.vips-landbruk.no/forecasts/models/PSILARTEMP/\n  description:\n    other: |\n      The warning system model «Carrot rust fly temperature» is based on a Finnish temperature-based model (Markkula et al, 1998; Tiilikkala & Ojanen, 1999; Markkula et al, 2000). The model determines the start of the flight period for the 1st and 2nd generation of carrot rust fly based on accumuleted degree-days (day-degrees) over a base temperature of 5,0 °C. VIPS uses the model for the 1st generation only. \n      Standard air temperature (temperature measured 2 m above ground) is used in the model. Degree-days are defined for this model as the sum of the difference between a base temperature of 5,0 °C and the mean temperature for all days with a temperature >5,0 °C, in other words (daily mean temperature – 5,0 °C) from 1 March (beginning when the ground has thawed).\n    created_by: ''\n    age: ''\n    assumptions: ''\n    peer_review: ''\n  citation:      # Optional. Use the DOI as identifier (list)\n  # Where has this model been considered valid\n  valid_spatial:\n    # Using country codes to get GeoJSON. Saves a lot of duplication.\n    # ISO-3166-1 Three-letter country codes https://en.wikipedia.org/wiki/ISO_3166-1#Current_codes\n    countries:\n    - NOR\n    # Optionally, use a custom polygon\n    geoJSON: |-\n      {}\n  input:\n    weather_parameters:\n    - parameter_code: 1002 # = Mean air temp at 2m\n      interval: 86400 # Sampling interval in seconds (3600 * 24 = 86400)\n    weather_data_period_start: # DEFAULT is FIXED_DATE=XXXX-01-01\n      determined_by: INPUT_SCHEMA_PROPERTY ## Could be INPUT_SCHEMA_PROPERTY or FIXED_DATE\n      value: configParameters.timeStart ## Could be path.to.property OR e.g. XXXX-01-01\n    weather_data_period_end: # DEFAULT is FIXED_DATE=XXXX-12-31\n      determined_by: INPUT_SCHEMA_PROPERTY ## Could be INPUT_SCHEMA_PROPERTY or FIXED_DATE\n      value: configParameters.timeEnd ## Could be path.to.property OR e.g. XXXX-12-31\n  execution:\n    type: ONTHEFLY\n    endpoint: https://coremanager.vips.nibio.no/models/PSILARTEMP/run/ipmd\n    form_method: post # Could be get or post\n    content_type: application/json # Regular forms: application/x-www-form-urlencoded , Regular forms with files (<input type=\"file\">): multipart/form-data\n    input_schema: |\n      {\n        \"type\":\"objectFOOBAR\",\n        \"propertiesTHIS_IS_INVALID\": {\n          \"modelId\": {\"type\": \"string\", \"pattern\":\"^PSILARTEMP$\", \"title\": \"Model Id\", \"default\":\"PSILARTEMP\", \"description\":\"Must be PSILARTEMP\"},\n          \"configParameters\": {\n            \"title\":\"Configuration parameters\",\n            \"type\": \"object\",\n            \"properties\": {\n              \"timeZone\": {\"type\": \"string\", \"title\": \"Time zone (e.g. Europe/Oslo)\", \"default\":\"Europe/Oslo\", \"options\":{\"infoText\":\"The time zone information is used when hourly temperature values need to be converted to daily.\"}},\n              \"timeStart\": {\"type\":\"string\",\"format\": \"date\", \"title\": \"Start date of calculation (YYYY-MM-DD)\"},\n              \"timeEnd\": {\"type\":\"string\",\"format\": \"date\", \"title\": \"End date of calculation (YYYY-MM-DD)\"}\n            },\n            \"required\": [\"timeZone\",\"timeStart\",\"timeEnd\"]\n          },\n          \"weatherData\": {\n            \"$ref\": \"https://ipmdecisions.nibio.no/api/wx/rest/schema/weatherdata\"\n          }\n        },\n        \"required\": [\"modelId\",\"configParameters\"]\n      }\n    input_schema_categories:\n      hidden:\n      - modelId\n    # The input template should adhere to the JSON Schema standard: https://json-schema.org/\n  output:\n    warning_status_interpretation: |-\n      Green warning indicates that the flight period has not yet begun.\n      Yellow warning indicates that the flight period is beginning and that flies can be coming into the field.\n      Red warning indicates peak flight period.\n      Grey warning indicates that the flight period of the 1st generation is over.\n      Be aware that in areas with field covers (plastic, single or double non-woven covers, etc.) with early crops the preceding season (either on the current field or neighboring fields), the flight period can start earlier due to higher soil temperature under the covers.\n    chart_heading: Accumulated day degrees\n    chart_groups:\n    - id: G1\n      title: Day degrees\n      result_parameter_ids:\n      - TMDD5C\n      - THRESHOLD_1\n      - THRESHOLD_2\n      - THRESHOLD_3\n    result_parameters:\n      # the id is used with the model_id as the namespace\n    - id: TMDD5C\n      title: Accumulated day degrees\n      description: The accumulated day degrees with a base temperature of 5 degrees\n        celcius\n      chart_info:\n        default_visible: true\n        unit: '&deg;C'\n        chart_type: spline   # Could be  line, spline, area, areaspline, column and scatter. Ref https://www.highcharts.com/docs/chart-and-series-types/chart-types\n        color: '#0033cc'\n    - id: THRESHOLD_1\n      title: Threshold for start of flight period\n      description: When the accumulated day degrees exceed this threshold, the flight\n        period is starting up\n      chart_info:\n        default_visible: true\n        unit: '&deg;C'\n        chart_type: spline   # Could be  line, spline, area, areaspline, column and scatter. Ref https://www.highcharts.com/docs/chart-and-series-types/chart-types\n        color: '#ffff00'\n    - id: THRESHOLD_2\n      title: Threshold for peak flight period\n      description: When the accumulated day degrees exceed this threshold, you enter\n        the peak flight period\n      chart_info:\n        default_visible: true\n        unit: '&deg;C'\n        chart_type: spline   # Could be  line, spline, area, areaspline, column and scatter. Ref https://www.highcharts.com/docs/chart-and-series-types/chart-types\n        color: '#ff0000'\n    - id: THRESHOLD_3\n      title: Threshold for end of 1st generation flight period\n      description: When the accumulated day degrees exceed this threshold, the 1st\n        generation flight period is over\n      chart_info:\n        default_visible: true\n        unit: '&deg;C'\n        chart_type: spline   # Could be  line, spline, area, areaspline, column and scatter. Ref https://www.highcharts.com/docs/chart-and-series-types/chart-types\n        color: '#999999'",
							"options": {
								"raw": {
									"language": "text"
								}
							}
						},
						"url": {
							"raw": "{{dss_url}}/rest/schema/dss/yaml/validate",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"schema",
								"dss",
								"yaml",
								"validate"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Catalogue service",
			"item": [
				{
					"name": "Get list of DSSs with all models",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/dss",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"dss"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get list of DSSs and their validated models",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/dss/platform_validated/true",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"dss",
								"platform_validated",
								"true"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get list of DSSs and their not validated models",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/dss/platform_validated/false",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"dss",
								"platform_validated",
								"false"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get one DSS as Json",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response is Json, and the correct id is present\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.id).to.eql(\"no.nibio.vips\");",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/dss/no.nibio.vips",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"dss",
								"no.nibio.vips"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get input_schema (Json schema) for a DSS model",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response is Json, and we find the data type of the modelId\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.properties.modelId.type).to.eql(\"string\");",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/model/no.nibio.vips/PSILARTEMP/input_schema",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"model",
								"no.nibio.vips",
								"PSILARTEMP",
								"input_schema"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get input_schema for the HTML form (Json schema) for a DSS model",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response is Json, and we find the data type of the timeZone\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.properties.configParameters.properties.timeZone.type).to.eql(\"string\");",
									"});",
									"pm.test(\"Response is Json, and the weatherData property should not be present. \", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.properties.weatherData).to.be.undefined;",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/model/no.nibio.vips/PSILARTEMP/input_schema/ui_form",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"model",
								"no.nibio.vips",
								"PSILARTEMP",
								"input_schema",
								"ui_form"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get input_schema for the HTML form (Json schema) for a n observation based DSS model",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response is Json, and we find the data type of the timeZone\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.properties.configParameters.properties.timeZone.type).to.eql(\"string\");",
									"});",
									"pm.test(\"Response is Json, and the weatherData property should not be present. \", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.properties.weatherData).to.be.undefined;",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/model/no.nibio.vips/PSILAROBSE/input_schema/ui_form",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"model",
								"no.nibio.vips",
								"PSILAROBSE",
								"input_schema",
								"ui_form"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get one DSS as YAML",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Body contains the correct ID\", function () {",
									"    pm.expect(pm.response.text()).to.include(\"dk.seges\");",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/dss/dk.seges/yaml",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"dss",
								"dk.seges",
								"yaml"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get DSS model(s) for a given crop-pest combination",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response is Json, and at least one model is present\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].models.length).gte(1);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/dss/crop/DAUCS/pest/PSILRO",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"dss",
								"crop",
								"DAUCS",
								"pest",
								"PSILRO"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get validated DSS model(s) for a given crop-pest combination",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response is Json, and at least one model is present\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].models.length).gte(1);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/dss/crop/DAUCS/pest/PSILRO/platform_validated/true",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"dss",
								"crop",
								"DAUCS",
								"pest",
								"PSILRO",
								"platform_validated",
								"true"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get DSS model(s) for a given invalid crop-pest combination",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.test(\"Response is Json, and zero DSSs are present\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.length).to.eq(0)",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/dss/crop/FOO/pest/PSILRO",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"dss",
								"crop",
								"FOO",
								"pest",
								"PSILRO"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get list of EPPO codes for all DSS model pests in the platform",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/pest",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"pest"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get list of EPPO codes for all DSS model crops in the platform",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/crop",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"crop"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get DSS  model(s) for one crop",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/dss/crop/SOLTU",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"dss",
								"crop",
								"SOLTU"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get validated DSS  model(s) for one crop",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/dss/crop/SOLTU/platform_validated/true",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"dss",
								"crop",
								"SOLTU",
								"platform_validated",
								"true"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get DSS  model(s) for multiple crops",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/dss/crops/SOLTU,DAUCS",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"dss",
								"crops",
								"SOLTU,DAUCS"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get validated DSS model(s) for multiple crops",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/dss/crops/SOLTU,DAUCS/platform_validated/true",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"dss",
								"crops",
								"SOLTU,DAUCS",
								"platform_validated",
								"true"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "AdminService",
			"item": [
				{
					"name": "Heartbeat",
					"request": {
						"auth": {
							"type": "apikey",
							"apikey": [
								{
									"key": "value",
									"value": "{{ipmdss_admin_token}}",
									"type": "string"
								},
								{
									"key": "key",
									"value": "ipmdss_admin_token",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/admin/heartbeat",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"admin",
								"heartbeat"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add DSS YAML file",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 409\", function () {",
									"    pm.response.to.have.status(409);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"content-type": true
						}
					},
					"request": {
						"auth": {
							"type": "apikey",
							"apikey": [
								{
									"key": "value",
									"value": "{{ipmdss_admin_token}}",
									"type": "string"
								},
								{
									"key": "key",
									"value": "ipmdss_admin_token",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-type",
								"type": "text",
								"value": "application/x-yaml"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "#General info about the DSS\nid: adas.dss\nversion: 0.0.3\nname: Models\nurl: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss\norganization:\n  name: ADAS\n  country: England\n  address: Titan 1 Offices\n  postal_code: WV10 9RT\n  city: Wolverhampton\n  email: Hannah.Griffiths@adas.co.uk\n  url: https://www.adas.uk/\nlanguages:\n- English\nmodels:\n- name: Cutworm Model\n  id: DASGPA\n  version: 0.0.3\n  authors:\n  - name: J. Bowden, J. Cochrane, B.J. Emmett, T.E. Minall, P.L Sherlock\n    email: NA\n    organization: Rothamsted Experimental Station\n  pests:\n  - DASGPA\n  crops:\n  - 3LETC\n  - 3BEEC\n  - SOLTU\n  - BEAVV\n  - BRSRR\n  - BRSNA\n  - DAUCS\n  - PAVSA\n  - ALLCE\n  - ALLPO\n  - CICIN\n  - 1ASPG\n  - APUGV\n  - LYPES\n  - FRAAN\n  #lettuce crops, beet crops, potato, mangold, turnip, swede, carrot, parsnip, onion, leek, chicory, asparagus, celery, tomato, strawberry\n  keywords: none\n  type_of_decision: Short-term tactical\n  type_of_output: Risk indication\n  description_URL: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/dasgpa/Help/Api/POST-api-DASGPA\n  description:\n    other: |\n      This model assesses Cutworm risk in crops based on the work of Bowden et al., (1982). The model was originally devised to estimate an index of larval survival to third instar, based on temperature rate of development relationships and mortality due to daily rainfall.\n      The default model start date is defined as the first day after 1st June where temperature exceeds 12 degrees. The model will end on the 31st October.\n      Any spray dates can be inputted into the model and are deemed to be 100% effective at removing cutworm from the model.\n      The model will return the number of batches that survive to the third instar, the associated risk and the recommended action.\n    created_by: ''\n    age: ''\n    assumptions: ''\n    peer_review: ''\n  citation:\n  valid_spatial:\n    countries:\n    - GBR\n    geoJSON: |-\n      {}\n  input:\n    weather_parameters:\n    - parameter_code: 1002\n      interval: 86400\n    - parameter_code: 2001\n      interval: 86400\n    weather_data_period_start:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-06-01'\n    weather_data_period_end:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-10-31'\n  execution:\n    type: ONTHEFLY\n    endpoint: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/dasgpa/api/DASGPA\n    form_method: post\n    content_type: application/json\n    input_schema: |\n      {\n        \"type\":\"object\",\n        \"properties\": { \n            \"modelId\": {\"type\": \"string\", \"pattern\":\"^DASGPA$\", \"title\": \"Model Id\", \"default\":\"DASGPA\", \"description\":\"Must be DASGPA\"},\n            \"weatherData\": {\n              \"$ref\": \"https://ipmdecisions.nibio.no/api/wx/rest/schema/weatherdata\"\n            },        \n            \"optionalData\" :{  \n              \"title\":\"Optional parameters for the DSS\",            \n              \"type\": \"object\",\n              \"properties\": {\n                \"sprayDates\": {\n                  \"title\": \"Spray Dates\",\t\n                  \"type\": \"object\",\n                  \"properties\":{\n                    \"date\": {\"type\":\"string\",\"format\": \"date\", \"title\": \"Date of Spray (YYYY-MM-DD)\"}\n                    }\n                }\n              }\n            }\n        },\n        \"required\": [\"modelId\",\"weatherData\"]\n      }\n\n    input_schema_categories:\n      hidden:\n      - modelId\n  output:\n    warning_status_interpretation:\n    - explanation: |-\n      recommended_action: ''\n    - explanation: |- \n        Missing data.\n      recommended_action: Review error message.\n    - explanation: |-\n        Green warning indicates that the number of larval batches surviving to third instar is zero.\n      recommended_action: No Action Required.\n    - explanation: |-\n        Yellow warning indicates that the larval batches surviving to third instar is between 1 and 4. \n      recommended_action: Should check field to obtain first-hand information about the need to take action. \n    - explanation: |-\n        Red warning indicates that there are over 4 larval batches surviving to third instar. \n      recommended_action: Advised to walk around your field as soon as possible to enable you to make a decision on which action to take.  \n    chart_heading: Larval Batches Surviving to Third Instar.\n    chart_groups:\n    - id: G1\n      title: Instar Count\n      result_parameter_ids:\n      - Third_Instar_Count\n    result_parameters:\n    - id: Third_Instar_Count\n      title: Larval Batches Surviving to Third Instar.\n      description: Number of larval batches surviving to third instar.\n      chart_info:\n        default_visible: true\n        unit: count\n        chart_type: column\n        color: green\n##########\n- name: Orange Wheat Blossom Midge Model\n  id: SITDMO\n  version: 0.0.3\n  authors:\n  - name: Guillaume Jacquemin, Sandrine Chavalle, Michel D Proft\n    email: g.jacquemin@cra.wallonie.be, s.chavalle@cra.wallonie.be, m.deproft@cra.wallonie.be\n    organization: Walloon Agricultural Research Centre\n  pests:\n  - SITDMO\n  crops:\n  - TRZAX\n  keywords: none\n  type_of_decision: Short-term tactical\n  type_of_output: Risk indication\n  description_URL: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/sitdmo/Help/Api/POST-api-SITDMO\n  description:\n    other: |\n      This is a simple Phase Indication DSS based on the work of Jacquemin et al., (2013).   \n      It uses daily temperature (degrees celsius) and rainfall (mm) data to identify emergence in the Orange Wheat Blossom Midge. \n      Optional parameters can be inputted to set the thresholds at each of the phases of the Orange Wheat Blossom Midge Lifecycle. If not inputted, the defaults will be set.\n      The model only runs between the months May and June but requires weather data from the 1st of January.\n      The model will return, what Phase the insect is in. If the insect has emerged it will also provide the dates of the emergence. It will also provide a risk and the recommended action.\n    created_by: ''\n    age: ''\n    assumptions: ''\n    peer_review: ''\n  citation:\n  valid_spatial:\n    countries:\n    - GBR\n    - BEL\n    geoJSON: |-\n      {}\n  input:\n    weather_parameters:\n    - parameter_code: 1002\n      interval: 86400\n    - parameter_code: 2001\n      interval: 86400\n    weather_data_period_start:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-01-01'\n    weather_data_period_end:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-06-30'\n  execution:\n    type: ONTHEFLY\n    endpoint: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/sitdmo/api/SITDMO\n    form_method: post\n    content_type: application/json\n    input_schema: |\n      {\n        \"type\":\"object\",\n        \"properties\": {  \n          \"modelId\": {\"type\": \"string\", \"pattern\":\"^SITDMO$\", \"title\": \"Model Id\", \"default\":\"SITDMO\", \"description\":\"Must be SITDMO\"},\n          \"weatherData\": {\n            \"$ref\": \"https://ipmdecisions.nibio.no/api/wx/rest/schema/weatherdata\"\n          },\t\t\n          \"optionalData\" :{\n            \"title\":\"Optional parameters for the DSS\",\n            \"type\": \"object\",\n            \"properties\": {\n              \"Temperature Threshold Phase 1\": {\"type\": \"number\", \"default\":\"3\"},\n              \"Degree Day Threshold Phase 1\": {\"type\": \"number\", \"default\":\"250\"},\n              \"Temperature Threshold Phase 2\": {\"type\": \"number\", \"default\":\"13\"},\n              \"Rainfall Threshold Phase 2\": {\"type\": \"number\", \"default\":\"0\"},\n              \"Temperature Threshold Phase 3\": {\"type\": \"number\", \"default\":\"7\"},\n              \"Degree Day Threshold Phase 3\": {\"type\": \"number\", \"default\":\"160\"}\n            }\n          }  \n        },\n        \"required\": [\"modelId\",\"weatherData\"]\n      }\n    input_schema_categories:\n      hidden:\n      - modelId\n  output:\n    warning_status_interpretation:\n    - explanation: |-\n      recommended_action: ''\n    - explanation: |- \n        Missing data.\n      recommended_action: Review error message.\n    - explanation: |-\n        Green warning indicates that Orange Wheat Blossom Midge is in Phase 1 of development. There is currently a low risk.\n      recommended_action: Revisit regularly as risk can change rapidly.\n    - explanation: |-\n        Yellow warning indicates that Orange Wheat Blossom Midge is in Phase 2 of development. \n      recommended_action: Should check field to obtain first-hand information about the need to act.\n    - explanation: |-\n        Red warning indicates that Orange Wheat Blossom Midge is in Phase 3 of development or have emerged.\n      recommended_action: Advised to walk around your field as soon as possible to enable you to decide on which action to take.\n    chart_heading: ''\n    chart_groups:\n    - id: ''\n      title: ''\n      result_parameter_ids:\n      - ''\n    result_parameters:\n    - id: ''\n      title: ''\n      description: ''\n      chart_info:\n        default_visible: false\n        unit: ''\n        chart_type: scatter\n        color: ''\n##########\n- name: Pollen Beetle Model\n  id: MELIAE\n  version: 0.0.3\n  authors:\n  - name: Hannah Griffiths\n    email: Hannah.Griffiths@adas.co.uk\n    organization: ADAS\n  pests:\n  - MELIAE\n  crops:\n  - BRSNN # EPPO code for rapeseed\n  keywords: none\n  type_of_decision: Short-term tactical\n  type_of_output: Risk indication\n  description_URL: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/meliae/Help/Api/POST-api-MELIAE\n  description:\n    other: |\n      This model is based on the work of Ferguson et al., (2015) to predict migration risk Pollen Beetle.\n      Daily maximum air temperature is used to predict Migration Risk. The default value of 15 degrees celsius is used, as that is the temperature advised in the UK at which pollen beetles will fly. \n      Threshold however can also be overwritten by the user.\n      The model can only be used between growth stage 51 and 59.\n    created_by: ''\n    age: ''\n    assumptions: ''\n    peer_review: ''\n  citation:\n  valid_spatial:\n    countries: []\n    geoJSON: |-\n      {}\n  input:\n    weather_parameters:\n    - parameter_code: 1004\n      interval: 86400\n    weather_data_period_start:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-03-01'\n    weather_data_period_end:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-05-31'\n  execution:\n    type: ONTHEFLY\n    endpoint: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/meliae/api/MELIAE\n    form_method: post\n    content_type: application/json\n    input_schema: |\n      {\n        \"type\":\"object\",\n        \"properties\": {  \n         \"modelId\": {\"type\": \"string\", \"pattern\":\"^MELIAE$\", \"title\": \"Model Id\", \"default\":\"MELIAE\", \"description\":\"Must be MELIAE\"},\t\n          \"weatherData\": {\n            \"$ref\": \"https://ipmdecisions.nibio.no/api/wx/rest/schema/weatherdata\"\n          },\n          \"growthStage\": {\"type\": \"number\"},\n          \"optionalData\" :{   \n            \"title\":\"Optional parameters for the DSS\", \n            \"type\": \"object\",\n            \"properties\": {\n              \"Temperature Threshold\": {\"type\": \"number\", \"default\":\"15\"}\n            }\n          }\n        },\n        \"required\": [\"modelId\", \"weatherData\", \"growthStage\"]\n      }  \n    input_schema_categories:\n      hidden:\n      - modelId\n  output:\n    warning_status_interpretation:\n    - explanation: ''\n      recommended_action: ''\n    - explanation: |-\n        Missing data.\n      recommended_action: Review error message.\n    - explanation: |-\n        Green Warning indicates that the maximum temperature is lower than threshold at which pollen beetles fly at air temperatures to crops. \n      recommended_action: Revisit regularly as risk can change rapidly.\n    - explanation: ''\n      recommended_action: ''\n    - explanation: |-\n        Red Warning indicates that the maximum temperature is higher than threshold at which pollen beetles fly at air temperatures to crops.\n      recommended_action: Walk around your field to enable you to decide on which action to take.\n    chart_heading: ''\n    chart_groups:\n    - id: ''\n      title: ''\n      result_parameter_ids:\n      - ''\n    result_parameters:\n    - id: ''\n      title: ''\n      description: ''\n      chart_info:\n        default_visible: false\n        unit: ''\n        chart_type: scatter\n        color: ''\n##########        \n- name: Saddle Gall Midge Model\n  id: HAPDMA\n  version: 0.0.3\n  authors:\n  - name: Charlotte Rowley, Andew Cherrill, Simon R. Leather, Tome W. Pope\n    email: crowley@harper-adams.ac.uk\n    organization: Centre for Integrated Pest Management\n  pests:\n  - HAPDMA\n  crops:\n  - TRZAS\n  - HORVS\n  #EPPO for spring wheat and spring barley\n  keywords: none\n  type_of_decision: Short-term tactical\n  type_of_output: Risk indication\n  description_URL: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/hapdma/Help/Api/POST-api-HAPDMA\n  description:\n    other: |\n      A simple DSS which predicts the dates of emergence for the Saddle Gall Midge based on a model derived by Rowley et al., 2017. Rainfall events followed by an accumulation of 512 degree days above 0 degrees C can be used to predict peaks.\n      Cumulative emergence as a function of degree day accumulations was best described using a probit model.\n      The model will start on the date of first rainfall on or after the 1st March and will end at the end of July.\n      A Rainfall event is described as daily rainfall over the rainfall threshold (default 1mm) following 3 days without precipitation.\n      Optional parameters can be inputted to set the thresholds. If not inputted, the defaults described above will be set.\n      The model will return the dates of peak emergence, cumulative emergence, the associated risk and recommended action.\n    created_by: ''\n    age: ''\n    assumptions: ''\n    peer_review: ''\n  citation:\n  valid_spatial:\n    countries:\n    - GBR\n    geoJSON: |-\n      {}\n  input:\n    weather_parameters:\n    - parameter_code: 1002\n      interval: 3600\n    - parameter_code: 2001\n      interval: 3600\n    weather_data_period_start:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-03-01'\n    weather_data_period_end:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-07-31'\n  execution:\n    type: ONTHEFLY\n    endpoint: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/hapdma/api/HAPDMA\n    form_method: post #\n    content_type: application/json\n    input_schema: |\n      {\n          \"type\":\"object\",\n          \"properties\": {  \n            \"modelId\": {\"type\": \"string\", \"pattern\":\"^HAPDMA$\", \"title\": \"Model Id\", \"default\":\"HAPDMA\", \"description\":\"Must be HAPDMA\"},\t\n            \"weatherData\": {\n              \"$ref\": \"https://ipmdecisions.nibio.no/api/wx/rest/schema/weatherdata\"\n            },\n            \"optionalData\" :{\n              \"title\":\"Optional parameters for the DSS\",\n              \"type\": \"object\",\n              \"properties\": {\n                \"Rainfall Threshold\": {\"type\": \"number\", \"default\":\"1\"},\n                \"Dry Day Threshold\": {\"type\": \"number\", \"default\":\"3\"},\n                \"Temperature Threshold\": {\"type\": \"number\", \"default\":\"0\"},\n                \"Degree Days\": {\"type\": \"number\", \"default\":\"512\"}\n              }\n            }\n          },\n          \"required\": [\"modelId\",\"weatherData\"]\n      }\n    input_schema_categories:\n      hidden:\n      - modelId\n  output:\n    warning_status_interpretation:\n    - explanation: ''\n      recommended_action: ''\n    - explanation: |-\n        Missing data.\n      recommended_action: Review error message.\n    - explanation: |-\n        Green warning indicates that there is below 10% cumulative emergence. Currently low risk.\n      recommended_action: Revisit regularly as risk can change rapidly.\n    - explanation: |-\n        Yellow warning indicates that there is up to 50% cumulative emergence.\n      recommended_action: Check field to obtain first hand information about the need to take action.\n    - explanation: |-\n        Red warning indicates that there is up to or over 90% cumulative emergence.\n      recommended_action: Walk around your field as soon as possible to enable you to decide on which action to take.\n    chart_heading: Cumulative Emergence\n    chart_groups:\n    - id: G1\n      title: Emergence\n      result_parameter_ids:\n      - Cumulative_Emergence\n    result_parameters:\n    - id: Cumulative_Emergence\n      title: Cumulative Emergence.\n      description: Cumulative percentage emergence as a function of degree day accumulations.\n      chart_info:\n        default_visible: true\n        unit: count\n        chart_type: line\n        color: green\n##########\n- name: Codling Moth Model\n  id: CARPPO\n  version: 0.0.3\n  authors:\n  - name: Petros T. Damos, Nikos A. Kouloussis, Dimitris S. Koveos\n    email: petrosdamos@gmail.com\n    organization: Laboratory of Applied Zoology and Parasitology, School of Agriculture,\n      Faculty of Agriculture, Forestry and Natural Environment, Thessaloniki, Greece\n  pests:\n  - CARPPO\n  crops:\n  - MABSD ##EPPO for apple plant\n  keywords: none\n  type_of_decision: Short-term tactical\n  type_of_output: Risk indication\n  description_URL: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/carppo/Help/Api/POST-api-CARPPO\n  description:\n    other: |\n      This is a simple risk based DSS for the Codling Moth, Cydia pomonella, based on the work of Damos et al., (2018) in Greece. A 3-paramater non-linear regression model was constructed to fit cumulative moth captures as a function of accumulated day degrees (Biofix 1st January) for all three of the male flights.\n      The model requires minimum and maximum temperature from the 1st of January as an input, and will return the male flight, associated risk and recommended action.\n    created_by: ''\n    age: ''\n    assumptions: ''\n    peer_review: ''\n  citation:\n  valid_spatial:\n    countries:\n    - ALB, AND, BIH, HRV, GRC, ITA, MLT, MNE, MKD, PRT, SMR, SRB, SVN, ESP\n    geoJSON: |-\n      {}\n  input:\n    weather_parameters:\n    - parameter_code: 1003 # = Min air temp at 2m\n      interval: 86400\n    - parameter_code: 1004 # = Max air temp at 2m\n      interval: 86400\n    weather_data_period_start:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-01-01'\n    weather_data_period_end:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-09-30'\n  execution:\n    type: ONTHEFLY\n    endpoint: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/carppo/api/carppo\n    form_method: post\n    content_type: application/json\n    input_schema: |\n      {\n        \"type\":\"object\",\n        \"properties\": {  \n          \"modelId\": {\"type\": \"string\", \"pattern\":\"^CARPPO$\", \"title\": \"Model Id\", \"default\":\"CARPPO\", \"description\":\"Must be CARPPO\"},\t\t\n          \"weatherData\": {\n            \"$ref\": \"https://ipmdecisions.nibio.no/api/wx/rest/schema/weatherdata\"\n          },\t\n          \"optionalData\" :{\n            \"title\":\"Optional parameters for the DSS\",\n            \"type\": \"object\",\n            \"properties\": {\t\t  \n              \"Lower Temperature Threshold\": {\"type\": \"number\", \"default\":\"10.1\"},\t\n              \"Upper Temperature Threshold\": {\"type\": \"number\", \"default\": \"34.3\"},\n              \"First Flight: Parameter a\": {\"type\": \"number\", \"default\": \"98.7583\"},\n              \"First Flight: Parameter b\": {\"type\": \"number\", \"default\": \"69.5118\"},        \n              \"First Flight: Parameter y\": {\"type\": \"number\", \"default\": \"468.8300\"},         \n              \"Second Flight: Parameter a\": {\"type\": \"number\", \"default\": \"98.7505\"},\n              \"Second Flight: Parameter b\": {\"type\": \"number\", \"default\": \"99.9595\"},\n              \"Second Flight: Parameter y\": {\"type\": \"number\", \"default\": \"1130.9937\"},\n              \"Third Flight: Parameter a\": {\"type\": \"number\", \"default\": \"106.1449\"},\n              \"Third Flight: Parameter b\": {\"type\": \"number\", \"default\": \"110.2595\"},        \n              \"Third Flight: Parameter y\": {\"type\": \"number\", \"default\": \"1815.8485\"} \n            }\n          }            \n        },\n        \"required\": [\"modelId\", \"weatherData\"]\n      }  \n    input_schema_categories:\n      hidden:\n      - modelId\n  output:\n    warning_status_interpretation:\n    - explanation: |-\n      recommended_action: ''\n    - explanation: |- \n        Missing data.\n      recommended_action: Review error message.\n    - explanation: |-\n        This decision tool predicts the timing of flights of Cydia pomella (colding moth) to help time insecticide treatment.    \n        Typically it is more effective to treat early in the flight, rather than waiting for the peak of the flight (maximum risk).   \n        The timing of treatment might need to be adjusted depending on the type of insecticide used. \n        In southern Europe there can be three flights in a season.     \n        The prediction is about timing and does not predict the number of codling moths.\n        Green warning indicates that cumulative catches are below 10% or above 65% in all the flights.\n      recommended_action: The risk is low, and no action is required but it is recommended to revisit regularly as risk can change rapidly.\n    - explanation: |-\n        This decision tool predicts the timing of flights of Cydia pomella (colding moth) to help time insecticide treatment.    \n        Typically it is more effective to treat early in the flight, rather than waiting for the peak of the flight (maximum risk).   \n        The timing of treatment might need to be adjusted depending on the type of insecticide used. \n        In southern Europe there can be three flights in a season.     \n        The prediction is about timing and does not predict the number of codling moths.\n        Yellow warning indicates that cumulative catches are between 10% and 35% in at least one of the flights. \n      recommended_action: The risk is moderate, and you should walk around your field as soon as possible to enable you to make a decision on which action to take.\n    - explanation: |-\n        This decision tool predicts the timing of flights of Cydia pomella (colding moth) to help time insecticide treatment.    \n        Typically it is more effective to treat early in the flight, rather than waiting for the peak of the flight (maximum risk).   \n        The timing of treatment might need to be adjusted depending on the type of insecticide used. \n        In southern Europe there can be three flights in a season.     \n        The prediction is about timing and does not predict the number of codling moths.\n        Red warning indicates that cumulative catches are between 35% and 65% in at least one of the flights. \n      recommended_action: The risk is high and you should immediately take a decision for action to manage the pest.\n    chart_heading: Cumulative Captures\n    chart_groups:\n    - id: G1\n      title: Cumulative Captures\n      result_parameter_ids:\n      - First_Flight_Cumulative_Captures\n      - Second_Flight_Cumulative_Captures\n      - Third_Flight_Cumulative_Captures\n    result_parameters:\n    - id: First_Flight_Cumulative_Captures\n      title: First Flight Cumulative Captures\n      description: The cumulative captures of the Codling Moth during their first\n        flight.\n      chart_info:\n        default_visible: true\n        unit: Count\n        chart_type: line\n        color: green\n    - id: Second_Flight_Cumulative_Captures\n      title: Second Flight Cumulative Captures\n      description: The cumulative captures of the Codling Moth during their second\n        flight.\n      chart_info:\n        default_visible: true\n        unit: Count\n        chart_type: line\n        color: red\n    - id: Third_Flight_Cumulative_Captures\n      title: Third Flight Cumulative Captures\n      description: The cumulative captures of the Codling Moth during their third\n        flight.\n      chart_info:\n        default_visible: true\n        unit: Count\n        chart_type: line\n        color: blue\n###########\n- name: TSUM Model\n  id: RHOPPA\n  version: 0.0.1\n  authors:\n  - name: AHDB\n    email: NA\n    organization: AHDB\n  pests:\n  - RHOPPA\n  crops:\n  - TRZAW\n  - HORVW #EPPO for winter wheat and winter barley\n  keywords: none\n  type_of_decision: Short-term tactical\n  type_of_output: Risk indication\n  description_URL: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/rhoppa/Help/Api/POST-api-RHOPPA\n  description:\n    other: |\n      This is a simple risk DSS for predicting BYDV risk from aphids. Second generation aphids move away from the plant originally colonised and are therefore likely to be a greater risk. \n    created_by: ''\n    age: ''\n    assumptions: Second generation aphids are likely to be present when the accumulated daily air temperatures, above a baseline temperature of 3 degrees, reached T-Sum 170.\n    peer_review: ''\n  citation:\n  valid_spatial:\n    countries:\n    - GBR\n    geoJSON: |-\n      {}\n  input:\n    weather_parameters:\n    - parameter_code: 1002\n      interval: 3600\n    weather_data_period_start:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-09-01'\n    weather_data_period_end:\n      determined_by: FIXED_DATE\n      value: '{CURRENT_YEAR}-08-31'\n  execution:\n    type: ONTHEFLY\n    endpoint: https://app-rsk-adas-dss-dev-001.azurewebsites.net/dss/rhoppa/api/RHOPPA\n    form_method: post\n    content_type: application/json\n    input_schema: |\n      {\n          \"type\":\"object\",\n          \"properties\": {  \n            \"modelId\": {\"type\": \"string\", \"pattern\":\"^RHOPPA$\", \"title\": \"Model Id\", \"default\":\"RHOPPA\", \"description\":\"Must be RHOPPA\"},\n            \"weatherData\": {\n              \"$ref\": \"https://ipmdecisions.nibio.no/api/wx/rest/schema/weatherdata\"\n            },       \n            \"optionalData\" :{ \n              \"title\":\"Optional parameters for the DSS\",\n              \"type\": \"object\",\n              \"properties\": {\n                \"sprayDates\": {\n                  \"title\": \"Spray Dates\",\n                  \"type\": \"object\",\n                  \"properties\":{\n                    \"Date\": {\"type\":\"string\",\"format\": \"date\", \"title\": \"Date of Spray (YYYY-MM-DD)\"}\n                  }\n               }           \n              }\n            }\n          },\n          \"required\": [\"modelId\",\"weatherData\"]\n        }  \n    input_schema_categories:\n      hidden:\n      - modelId\n  output:\n    warning_status_interpretation:\n    - explanation: |-\n      recommended_action: ''\n    - explanation: |- \n        Missing data.\n      recommended_action: Review error message.\n    - explanation: |-\n        Green risk status: T-SUM is below 50. Low risk of spread of BYDV in crops at this time. \n      recommended_action: Review risk status every 7 days during vulnerable crop growth stages regularly as risk conditions can change rapidly.\n    - explanation: |-\n        Yellow risk status: T-SUM is between 50 and 100. \n      recommended_action: Review risk status within next 3 days. Field inspections recommended within the next 3-5 days to assess aphid infestations and consider treatment where winged aphids are easily found.\n    - explanation: |-\n        Red risk status: T-SUM is 100 and over.\n      recommended_action: Review risk status daily. Field inspections recommended within the next 1-3 days to assess aphid infestations and consider treatment where winged aphids are easily found.\n    chart_heading: TSUM Model\n    chart_groups:\n    - id: G1\n      title: TSUM\n      result_parameter_ids:\n      - T-Sum\n      - Proportion_1\n      - Proportion_2\n      - Proportion_3\n    result_parameters:\n      # the id is used with the model_id as the namespace\n    - id: T-Sum\n      title: T-Sum\n      description: Cumulative day degrees over 3 degrees celsius.\n      chart_info:\n        default_visible: true\n        unit: Count\n        chart_type: line\n        color: orange\n    - id: Proportion_1\n      title: Proportion of day where temperature exceeds 11 degrees C\n      description: Proportion of day where temperature exceeds 11 degrees C\n      chart_info:\n        default_visible: true\n        unit: Count\n        chart_type: line\n        color: green\n    - id: Proportion_2\n      title: Proportion of day where temperature was below 6 degrees C\n      description: Proportion of day where temperature was below 6 degrees C\n      chart_info:\n        default_visible: true\n        unit: Count\n        chart_type: line\n        color: red\n    - id: Proportion_3\n      title: Proportion of day where temperature was below 3 degrees C\n      description: Proportion of day where temperature was below 3 degrees C\n      chart_info:\n        default_visible: true\n        unit: Count\n        chart_type: line\n        color: blue\n##########",
							"options": {
								"raw": {
									"language": "text"
								}
							}
						},
						"url": {
							"raw": "{{dss_url}}/rest/admin/dss/add?dryRun=true",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"admin",
								"dss",
								"add"
							],
							"query": [
								{
									"key": "dryRun",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "ResourceBundle",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{dss_url}}/rest/admin/dss/dk.seges/i18n/csv",
							"host": [
								"{{dss_url}}"
							],
							"path": [
								"rest",
								"admin",
								"dss",
								"dk.seges",
								"i18n",
								"csv"
							]
						}
					},
					"response": []
				}
			]
		}
	]
}